<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Vuex Demo 01</title>
    <script src="http://cdn.bootcss.com/vue/1.0.26/vue.min.js"></script>
    <script src="http://cdn.bootcss.com/vuex/0.8.2/vuex.min.js"></script>
</head>
<body>
<!-- 2、view，映射到视图的数据counterValue； -->
<h3>Count is {{ counterValue }}</h3>
<div>
    <button @click="increment">Increment +1</button>
    <button @click="decrement">Decrement -1</button>
</div>
</body>
<script>
    var app = new Vue({
        el: 'body',
        store: new Vuex.Store({
            // 1、state，驱动应用的数据源；
            state: {
                count: 0
            },
            mutations: {
                INCREMENT: function(state, amount) {
                    state.count = state.count + amount
                },
                DECREMENT: function(state, amount) {
                    state.count = state.count - amount
                }
            }
        }),
        vuex: {
            getters: {
                counterValue: function(state) {
                    return state.count
                }
            },
            // 3、actions，响应在view上的用户输入导致的状态变化。
            actions: {
                increment: function({ dispatch, state }){
                    dispatch('INCREMENT', 1)
                },
                decrement: function({ dispatch, state }){
                    dispatch('DECREMENT', 1)
                }
            }
        }
    })
</script>
</html>